var dashboard=function(t,e){var a="",i=["#account-div","#category-div"],l=["#miles-div","#hours-div"],n=function(e){e.forEach((function(e){1==t(e).data("open")&&t(e).slideUp(300,(function(){t(e).html("").data("open",!1)}))}))},o=function(){t.ajax({url:"/profile/subscriber",cache:!1,dataType:"json"}).done((function(e){"string"==typeof e.help_text&&(a=e.help_text),"string"!=typeof e.subscribed_at?t(".subscribe-div").show():(t(".reports-div").show(),t(".hours-div").show(),t(".miles-div").show())})).fail((function(t){utility.ajax_fail(t)}))},r=function(e){t.ajax({url:"/"+e,cache:!1,data:{q:t("#q").val()},dataType:"json"}).done((function(a){t("#"+e+"-div").html(""),"entry"==e&&(0!=a.length||t("#welcome-div").is(":visible")||t("#welcome-div").slideDown(300),0!=a.length&&t("#welcome-div").is(":visible")&&t("#welcome-div").slideUp(300)),a.forEach((function(a){t("#"+e+"-div").append(library.drawElement(e,a))})),"miles"==e&&t("#miles-div").prepend("<h4>Travel</h4>"),"hours"==e&&t("#hours-div").prepend("<h4>Time</h4>"),t("#"+e+"-div").data("open",!0),t("#"+e+"-div").slideDown(300)})).fail((function(t){utility.ajax_fail(t)}))},s=function(e){t(".modal-body form").on("submit",(function(a){a.preventDefault();var i=t(this).serializeArray();i.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t(this).valid()&&t.ajax({type:"POST",url:"/"+e,data:t.param(i),dataType:"json"}).done((function(t){utility.show_message(t,(function(){u(),r(e)}))})).fail((function(t){utility.ajax_fail(t)}))})).validate(e.update_rules)},d=function(e,a){t.ajax({url:"/"+e+"/"+a,cache:!1,dataType:"json"}).done((function(t){c(e,a,t,(function(){u()}),(function(){}))})).fail((function(t){utility.ajax_fail(t)}))},c=function(e,a,i,l,n){t(".modal-body").html(modal_form.js_form_build(i)),t(".modal-header").html('<h5 class="modal-title">'+i.title+"</h5>"),t(".modal-header").append(modal_form.js_panel_control(i.controls.head)),t(".modal-footer").html(""),"object"==typeof i.actions&&t(".modal-footer").append(modal_form.js_panel_action(i.actions)),t(".modal-footer").append(modal_form.js_panel_control(i.controls.foot)),t("#myModal").is(":visible")||t("#genericModal").modal("show"),utility.set_dynamic_button("#control-cancel",(function(){"function"==typeof l&&l()})),utility.set_dynamic_button(".btn-action",(function(){m(this,e,a)})),utility.set_dynamic_button("#control-save",(function(){t(".modal-body form").submit()})),utility.set_dynamic_button("#control-edit",(function(){f(e,a)})),utility.set_dynamic_button("#control-delete",(function(){g(e,a)})),utility.set_dynamic_button("#control-help",b),"function"==typeof n&&n()},u=function(){t("#genericModal").modal("hide"),utility.reset_dynamic_button("#control-cancel"),utility.reset_dynamic_button("#control-save"),t(".modal-footer").html(""),t(".modal-title").html(""),t(".modal-header").html("")},m=function(e,a,i){action=t(e).data("action"),t.ajax({url:"/"+a+"/"+i+"/action?action="+action,cache:!1,dataType:"json"}).done((function(t){switch(t.action){case"show":c(a,null,t,(function(){u()}),(function(){}));break;case"create":c(a,null,t,(function(){u()}),(function(){h(action,a,i)}));break;case"edit":c(a,null,t,(function(){}),(function(){p(action,a,i)}));break;default:utility.show_message(t,(function(){r(a)}))}})).fail((function(t){utility.ajax_fail(t)}))},h=function(e,a,i){t(".modal-body form").on("submit",(function(l){l.preventDefault();var n=t("form").serializeArray();n.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t.ajax({url:"/"+a+"/"+i+"/action?action="+e,cache:!1,type:"POST",data:t.param(n),dataType:"json"}).done((function(t){u(),utility.show_message(t,(function(){r(a)}))})).fail((function(t){utility.ajax_fail(t)}))}))},p=function(e,a,i){t(".modal-body form").on("submit",(function(l){l.preventDefault();var n=t("form").serializeArray();n.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t.ajax({url:"/"+a+"/"+i+"/action?action="+e,cache:!1,type:"PATCH",data:t.param(n),dataType:"json"}).done((function(t){switch(t.action){case"show":d(a,i);break;case"create":c(a,null,t,(function(){}),(function(){h(a)}));break;case"edit":f(a,i);break;default:utility.show_message(t,(function(){u(),r(a)}))}})).fail((function(t){utility.ajax_fail(t)}))}))},f=function(e,a){t.ajax({url:"/"+e+"/"+a+"/edit",cache:!1,dataType:"json"}).done((function(t){c(e,a,t,(function(){d(e,a)}),(function(){v(e,a)}))})).fail((function(t){utility.ajax_fail(t)}))},v=function(e,a){t(".modal-body form").on("submit",(function(i){i.preventDefault();var l=t(this).serializeArray();l.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t(this).valid()&&t.ajax({type:"PATCH",url:"/"+e+"/"+a,data:t.param(l),dataType:"json"}).done((function(t){utility.show_message(t,(function(){u(),r(e),"category"==e&&r("entry")}))})).fail((function(t){utility.ajax_fail(t)}))})).validate(e.update_rules)},g=function(e,a){var i=[{name:"_token",value:t("meta[name='csrf-token']").attr("content")}];confirm()&&t.ajax({type:"DELETE",url:"/"+e+"/"+a,data:t.param(i),dataType:"json"}).done((function(a){utility.show_message(a,(function(){u(),r(e),t("#genericModal").modal("hide")}))})).fail((function(t){utility.ajax_fail(t)}))},b=function(){t(".help-text").slideDown(300),utility.set_dynamic_button("#control-help",y)},y=function(){t(".help-text").slideUp(300),utility.set_dynamic_button("#control-help",b)};return{initialize:function(){o(),r("entry")},list:function(e){var a="#"+e+"-div";1==t(a).data("open")?(t(a).slideUp(300,(function(){t(a).html("").data("open",!1)})),"miles"!=e&&"hours"!=e||(t("#entry-div").slideDown(300),t("#entry-controls").slideDown(300))):(n(i),"miles"!=e&&"hours"!=e||(n(l),t("#entry-div").slideUp(300),t("#entry-controls").slideUp(300)),r(e))},helpDashboard:function(){t(".modal-header").html('<h5 class="modal-title">Help</h5>'),t(".modal-header").append(modal_form.js_panel_control([{title:"Close",class:"btn-secondary",id:"control-close",icon:"far fa-xmark"}])),utility.set_dynamic_button("#control-close",(function(){u(),t(".modal-footer").show()})),t(".modal-body").html(a),t(".modal-footer").hide(),t("#myModal").is(":visible")||t("#genericModal").modal("show")},showModalForm:c,hideModal:u,add:function(e,a){url="/"+e+"/create",void 0!==a&&(url+="?income="+a),t.ajax({url:url,cache:!1,dataType:"json"}).done((function(t){if("miles"==e||"hours"==e){var a=new Date;t.form[0][0].parameters.value=a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0"),t.form[0][1].parameters.value=a.toLocaleString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}c(e,null,t,(function(){u()}),(function(){s(e)}))})).fail((function(t){utility.ajax_fail(t)}))},edit:f,show:d,destroy:g}}(jQuery),subscription=function(t,e){var a=function(){t(".modal-body").html(s),t(".modal-footer").html(modal_form.js_panel_action([{label:"Start My Subscription",title:"Start My Subscription",button_class:"btn-primary m-1",icon:"fas fa-credit-card fa-flip",id:"utility-advance",action:"post_payment"}])),i(),utility.reset_dynamic_button("#utility-advance"),utility.set_dynamic_button("#utility-advance",(function(){t(".modal-body form").submit()}))},i=function(){t(".modal-body form").on("submit",(function(e){e.preventDefault();var a=t("form").serializeArray();a.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t.ajax({url:"/subscription/new",cache:!1,type:"POST",data:t.param(a),dataType:"json"}).done((function(t){l()})).fail((function(t){utility.ajax_fail(t)}))}))},l=function(){t(".modal-body").html(o),t(".modal-footer").html(modal_form.js_panel_action([{label:"Thank You",title:"Thank You",button_class:"btn-primary m-1",icon:"fas fa-hearts-face fa-bounce",id:"utility-advance",action:"reload-page"}])),utility.reset_dynamic_button("#utility-advance"),utility.set_dynamic_button("#utility-advance",n)},n=function(){t("#genericModal").modal("hide"),utility.reset_dynamic_button("#control-cancel"),utility.reset_dynamic_button("#utility-advance"),t(".modal-footer").html(""),t(".modal-title").html(""),t(".modal-header").html("")},o="<p>Thanks for supporting Billminder, and safe,secure internet applications development. Remember, our subscribers always get new features first, and some features remain exclusives!</p>",r="<p>A subscription helps to fund continued development of Billminder.</p><p>We never have advertisers, and we don't allow user data access to anyone!</p><p>Subscribers always get new features first.</p><p>Some features will always be exclusive to subscribers</p><p>Upcoming Subscriber-Only Features include: <ul><li>downloadable reports</li><li>changable encryption keys for your personal data</li><li>access to your bank accounts for balance and autopay checks</li></ul></p><p>Currently, Subscription is only $30 US per year, and your subscription fee is guaranteed never to increase as long as you are are a subscriber.</p><p>Subscribe today!  Your subscription will be added to your billminder list, as well!</p>",s="<p>Billminder subscription is $30 per year.  This will be added to your billminder list, as well.</p><form id = 'payment-form'><div class='row'><div class='col-12 col-lg-6 offset-lg-3'><label>Name on Card *</label><input class='form-control' name='cardname' placeholder='Name on Card' required></div><div class='col-12 col-lg-6 offset-lg-3'><label>Card Number*</label><input class='form-control' name='cardnum' placeholder='Card Number' required></div><div class='col-lg-2 offset-lg-3 col-sm-12'><label>Month*</label><select class='form-control' name='exp_month' required><option value = '01'>01-January</option><option value = '02'>02-February</option><option value = '03'>03-March</option><option value = '04'>04-April</option><option value = '05'>05-May</option><option value = '06'>06-June</option><option value = '07'>07-July</option><option value = '08'>08-August</option><option value = '09'>09-September</option><option value = '10'>10-October</option><option value = '11'>11-November</option><option value = '12'>12-December</option></select></div><div class='col-lg-2 col-sm-12'><label>Year*</label><input class='form-control' name='exp_year' placeholder='YYYY' required></div><div class='col-lg-2 col-sm-12'><label>Security Code*</label><input class='form-control' name='cvc' placeholder='***' required ></div></div></form>";return{showOffer:function(){t(".modal-header").html('<h5 class="modal-title">Subscribe Today</h5>'),t(".modal-header").append(modal_form.js_panel_control([{title:"Close",class:"btn-secondary",id:"control-cancel",icon:"far fa-times"}])),t(".modal-body").html(r),t(".modal-footer").html(modal_form.js_panel_action([{label:"Subscribe Now",title:"Subscribe Now",button_class:"btn-success m-1",icon:"fas fa-piggy-bank fa-shake",id:"utility-advance",action:"collect_payment"}])),t("#myModal").is(":visible")||t("#genericModal").modal("show"),utility.set_dynamic_button("#utility-advance",a),utility.set_dynamic_button("#control-cancel",n)}}}(jQuery),reports=function(t,e){var a=function(){url="/reports/create",t.ajax({url:url,cache:!1,dataType:"json"}).done((function(e){dashboard.showModalForm("reports",null,e,(function(){dashboard.hideModal()}),(function(){l()})),t("#beg_date_div").hide(),t("#end_date_div").hide(),t("#category_id_div").hide(),t("#account_id_div").hide(),t("#payee_id_div").hide(),t("#payor_id_div").hide(),t("input[name='type']").off().on("click",(function(){i(this)}))})).fail((function(t){utility.ajax_fail(t)}))},i=function(e){switch(t("#category_id_div").show(),t(e).attr("id")){case"type-register-income":t("#beg_date_div").show(),t("#end_date_div").show(),t("#account_id_div").show(),t("#payor_id_div").show(),t("#payee_id_div").hide();break;case"type-entry-income":t("#beg_date_div").hide(),t("#end_date_div").hide(),t("#account_id_div").show(),t("#payor_id_div").show(),t("#payee_id_div").hide();break;case"type-register-expense":t("#beg_date_div").show(),t("#end_date_div").show(),t("#account_id_div").show(),t("#payor_id_div").hide(),t("#payee_id_div").show();break;case"type-entry-expense":t("#beg_date_div").hide(),t("#end_date_div").hide(),t("#account_id_div").show(),t("#payor_id_div").hide(),t("#payee_id_div").show();break;default:t("#beg_date_div").show(),t("#end_date_div").show(),t("#account_id_div").hide(),t("#payee_id_div").hide(),t("#payor_id_div").hide()}},l=function(){t(".modal-body form").on("submit",(function(e){e.preventDefault();var a=t(this).serializeArray();a.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t(this).valid()&&t.ajax({type:"POST",url:"/reports/immediate",data:t.param(a)}).done((function(t){url="/reports/immediate";var e=document.createElement("iframe");return e.id="retriever_frame",e.setAttribute("src",url),e.style.width="0px",e.style.height="0px",e.style.border="0px",document.body.appendChild(e),dashboard.hideModal(),!1})).fail((function(t){utility.ajax_fail(t)}))})).validate(n)},n=[];return{show:function(){a()}}}(jQuery),utility=function(t,e){var a=function(e){d=document.createElement("div"),t(d).html(e).addClass("message-popup").addClass("animated flipInX").appendTo(t("#message")).click((function(){t(this).remove()})).delay(2500).queue((function(){t(this).remove()}))},i=function(e){d=document.createElement("div"),t(d).html(e).addClass("message-popup").addClass("animated flipInX").appendTo(t("#message")).click((function(){t(this).remove()}))},l=function(){t(window).off("resize"),t("#dashboard").slideUp(300),t(".titleFixed").fadeOut(100,(function(){t(".titleFixed").html("")})),t("#content").fadeOut(100,(function(){t("#content").html("")})),t("#dialog").fadeOut(100,(function(){t("#dialog").html("")})),t("#details").fadeOut(100,(function(){t("#details").html("")})),t(".page-wrapper").removeClass("toggled"),t(".overlay").removeClass("active")},n=function(t){var e=t.status;401==e||419==e?document.location="/login":i("<div class='alert alert-danger message-element w-100 text-center'><strong>Something Went Wrong!</strong><br>The requested action failed.<br>Contact technical support.<br><button class='button-error alert-danger'><span class='far fa-times'></span> Click to Close</button></div>")};return{show_subscriber:function(t){profile_public.set_config({subscriber_id:t}),profile_public.load()},show_message:function(e,l){e.success?(a(e.msg),e.username&&t("#username").html(e.username),undefined!==l&&l(e)):i(e.msg)},initialize:function(){window.matchMedia("(prefers-color-scheme: dark)").matches?t("body").addClass("dark-theme"):t("body").removeClass("dark-theme"),"dark"==localStorage.getItem("theme")&&t("body").addClass("dark-theme")},display_name:function(){t.ajax({type:"GET",url:"profile/username",data:null,success:function(e){t("#username").html(e)}})},show_tab:function(e,a){t(".active").removeClass("active"),a?(t("[id^='tabdiv_']").slideUp(300),t("#tabdiv_"+e).slideDown(300)):(t("[id^='tabdiv_']").hide(),t("#tabdiv_"+e).show()),t("#tab_"+e).addClass("active")},pre_load:l,show_dash:function(){l(),setTimeout((function(){t("#dashboard").slideDown(300)}),300)},ajax_fail:n,action_fail:function(t){n(t)},set_dynamic_button:function(e,a){t(e).show().off("click").on("click",a)},reset_dynamic_button:function(e){t(e).hide().off("click")},show_help:function(e){t(".overlay").addClass("active"),d=document.createElement("div"),t(d).html(e).addClass("help-popup").addClass("animated flipInX").appendTo(t("#message")).click((function(){t(this).remove(),t(".overlay").removeClass("active")}))},logout:function(){t.ajax({type:"POST",url:"/logout",data:{_token:t("meta[name='csrf-token']").attr("content")}}).done((function(t){document.location="/login"})).fail((function(t){utility.ajax_fail(t)}))}}}(jQuery),library=function(t,e){var a=function(t){switch(t){case"income":return'<i class="fa-solid fa-badge-dollar fa-fw" title="Income"></i>';case"late":return'<i class="fa-solid fa-triangle-exclamation fa-fw" title="Late"></i>';case"due":return'<i class="fa-solid fa-alarm-clock fa-fw" title="Due"></i>';case"expense":return'<i class="fa-solid fa-file-invoice-dollar fa-fw" title="Expense"></i>';case"open":return'<i class="fa-solid fa-door-open fa-fw" title="Open"></i>';case"closed":return'<i class="fa-solid fa-thumbs-up fa-fw" title="Closed"></i>'}},i=function(t){return new Date(t).toDateString().substring(4,10)};return{drawElement:function(t,e){switch(t){case"entry":return function(t){return html="<div class='row'><div class='col-12 mb-2'><div class='app-draw-row entry-"+t.status+"' onclick=\"dashboard.show('entry', "+t.id+');">',html+="<div class='row'>",html+="<div class='col-3 col-lg-1 text-start'>"+a(t.status),html+=1==t.autopay?"<i class='fa fa-solid fa-robot' title='Autopay'></i>":"",html+="</div>",html+="<div class='col-4 col-lg-2 text-end'>",html+=1==t.estimated_date?"<i class='fa fa-solid fa-circle-question' title='Estimated'></i>&nbsp;":"",html+="string"==typeof t.next_due_date?i(t.next_due_date):"<i class='fa fa-solid fa-circle-exclamation' title='Date Not Set'></i>",html+="</div>",html+="<div class='col-5 col-lg-2 text-end'>"+(1==t.estimated_amount?"<i class='fa fa-solid fa-circle-question' title='Estimated'></i>&nbsp;":"")+("0.00"==t.amount?"<i class='fa fa-solid fa-circle-exclamation' title='Amount Not Set'></i>":t.amount)+"</div>",html+="<div class='col-12 col-lg-4 text-start'>"+t.name+"</div>",html+="<div class='d-none d-lg-inline col-lg-3 text-start'>"+("string"!=typeof t.category?"Unassigned":t.category)+"</div>",html+="</div></div></div>",html}(e);case"hours":case"miles":return function(t,e){return html="<div class='row'><div class='col-12 mb-2'><div class='app-draw-row ",html+="string"==typeof e.interval?"category":"open-record",html+="' onclick=\"dashboard.show('"+t+"', "+e.id+');">',html+="<div class='row'>",html+="<div class='col-5 col-lg-2 text-end'>"+e.activity_date+"</div>",html+="<div class='col-5 col-lg-2 text-end'>"+e.beg_value+"</div>",html+="<div class='col-5 col-lg-2 text-end'>"+("string"==typeof e.interval?e.interval:"<i class='fa fa-solid fa-folder-open' title='End Value Not Set Not Set'></i>&nbsp;&nbsp;Open Record")+"</div>",html+="<div class='col-12 col-lg-3 text-start'>"+e.name+"</div>",html+="<div class='d-none d-lg-inline col-lg-3 text-start'>"+("string"!=typeof e.category?"Unassigned":e.category)+"</div>",html+="</div></div></div>",html}(t,e);default:return function(t,e){return html="<div class='row'><div class='col-12 offset-lg-2 col-lg-8'><div class='app-draw-row category ml-2 mr-4 px-2' onclick=\"dashboard.show('"+t+"', "+e.id+');">',html+=e.label,html+="</div></div></div>",html}(t,e)}return""},drawButton:function(t){htmlString="<button title='"+t.title+"' type='button' ",htmlString+="class='btn btn-primary btn-utility' id='"+t.btn_id+"'>",t.hasOwnProperty("icon")&&(htmlString+="<span class='"+t.icon+"'></span>"),t.hasOwnProperty("label")&&(htmlString+="<span>&nbsp;"+t.label+"</span>"),htmlString+="</button>"},pageRow:function(){return"<div class='row'><div class='col-2'><div id='page_frst' class='btn btn-app-primary centered' role='button' title = 'first'><i class='fa-regular fa-person-to-door'></i></div></div><div class='col-2'><div id='page_prev' class='btn btn-app-primary centered' role='button' title = 'previous'><i class='fa-regular fa-person-to-door'></i></div></div><div class='col-4 centered'><span id='page_num'>1</span> of <span id='page_count'>1</span></div><div class='col-2'><div id='page_next' class='btn btn-app-primary centered' role='button' title = 'next'><i class='fa-regular fa-person-to-door'></i></div></div><div class='col-2'><div id='page_last' class='btn btn-app-primary centered' role='button' title = 'last'><i class='fa-regular fa-person-to-door'></i></div></div></div>"}}}(jQuery),modal_form=function(t,e){var a="show",i={input_checkbox:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label><br>"),htmlString+="<label class='cb3switch' ><input type='checkbox' name='"+t.datapoint+"' id='is_"+t.datapoint+"' ",t.hasOwnProperty("cbvalue")?htmlString+=" value='"+t.cbvalue+"' ":htmlString+=" value='1' ",(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("checked")||1==t.value||t.value?htmlString+=" checked ":!t.hasOwnProperty("value")||1!=t.value&&t.value!=t.cbvalue||(htmlString+=" checked "),htmlString+="><span class='cb3slider' for='is_"+t.datapoint+"'></span></label>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div>",htmlString+="</div>",htmlString},input_date:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div'",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'><input class='form-control' type='date' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" ></div>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},input_time:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div'",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'><input class='form-control' type='time' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" ></div>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},input_hidden:function(t){return htmlString="<input type='hidden' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" >",htmlString},input_radio:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div'",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),t.hasOwnProperty("vertical")?htmlString+="<div class='btn-group-vertical btn-group-toggle w-100 text-center' ":htmlString+="<div class='btn-group-toggle w-100 text-center' ",htmlString+=" data-toggle='buttons'>",t.list.forEach((function(e){htmlString+="<label class='btn btn-radio' for='"+t.datapoint+"-"+e.value+"' ><input type='radio' id='"+t.datapoint+"-"+e.value+"' ",t.hasOwnProperty("value")&&t.value==e.value&&(htmlString+=" checked "),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),htmlString+="name='"+t.datapoint+"' value='"+e.value+"'> "+e.label+"</label>"})),htmlString+="</div>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},input_text:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'><input type='text' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("numeric")?htmlString+=" class='form-control text-end' ":htmlString+=" class='form-control' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" ></div>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},input_url:function(t){return htmlString="<div class='"+t.grid_class+"' id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'>",t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a?"string"==typeof t.value&&(htmlString+="<a target='_new' href='"+t.value+"'>"+t.value+"</a>"):(htmlString+="<input type='text' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" class='form-control' >"),htmlString+="</div>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},input_password:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'><input type='password' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),t.hasOwnProperty("numeric")?htmlString+=" class='form-control text-end' ":htmlString+=" class='form-control' ",htmlString+=" ></div>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},download:function(t){return"<div class='"+t.grid_class+"'><a href='"+t.value+"' target='_new' class='media'> VIEW FILE</a></div>"},image:function(t){return"<div class='"+t.grid_class+"'><img src='"+t.value+"' class='media' / ></div>"},audio:function(t){return"<audio class='"+t.grid_class+"' controls><source src='"+t.value+"' class='media' / ></audio>"},video:function(t){return"<video class='"+t.grid_class+"' controls><source src='"+t.value+"'  class='media' / ></video>"},select:function(t){return temp=[],htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<select data-live-search='true' class='form-control selectpicker'  id='sel_"+t.datapoint+"' ",t.hasOwnProperty("allow_new")&&(htmlString+=" onChange = 'modal_form.check_new(\""+t.datapoint+" \");' "),t.hasOwnProperty("multiple")&&1==t.multiple?htmlString+="  name='"+t.datapoint+"[]' multiple='multiple' ":htmlString+="  name='"+t.datapoint+"'",(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),htmlString+=">",t.hasOwnProperty("allow_null")&&(htmlString+="<option ",t.hasOwnProperty("value")&&"-99"!=t.value||(htmlString+="selected "),"boolean"==typeof t.allow_null?htmlString+="value = '-99'>- not selected -</option>\n":htmlString+="value = '-99'>"+t.allow_null+"</option>\n"),t.list.forEach((function(e){htmlString+="<option ",t.hasOwnProperty("value")&&t.value==e.value&&(htmlString+=" selected "),htmlString+="value='"+e.value+"'>",htmlString+=e.label,htmlString+="</option>\n"})),t.hasOwnProperty("allow_new")&&(htmlString+="<option value = '_new'>New "+t.label+"</option>\n"),htmlString+="</select>",t.hasOwnProperty("allow_new")&&(htmlString+="<input class='form-control app-hidden' type='text' id='new_"+t.datapoint+"' name='new_"+t.datapoint+"' >"),t.list.forEach((function(e){t.hasOwnProperty("value")&&t.value==e.value&&e.hasOwnProperty("website")&&""!=e.website&&"string"==typeof e.website&&(htmlString+="<a target='_new' href='"+e.website+"'>"+e.label+"</a>")})),t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},textarea:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<textarea class='form-control' ",(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==a)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("rows")&&(htmlString+=" rows='"+t.rows+"' "),t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"' "),htmlString+=" id='"+t.datapoint+"' name='"+t.datapoint+"' >",t.hasOwnProperty("value")&&(htmlString+=t.value),htmlString+="</textarea>",t.hasOwnProperty("title")&&(htmlString+="<div class='help-text app-hidden' >"+t.title+"</div>"),htmlString+="</div></div>",htmlString},spacer:function(t){return"<div class='"+t.grid_class+"'>&nbsp;</div>"},help_text:function(t){return"<div id='"+t.datapoint+"' class='"+t.grid_class+" help-text app-hidden' ><p>"+t.text+"</p></div>"},static_text:function(t){return"<div class='"+t.grid_class+"'><p>"+t.text+"</p></div>"},divider:function(t){return"<div class='"+t.grid_class+"'><hr></div>"},button_control:function(t){return htmlString="<button title='"+t.title+" ' type='button' class='btn "+t.class+" btn-control app-hidden' id='"+t.id+"' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+=">",t.hasOwnProperty("icon")&&(htmlString+="<span class='"+t.icon+"'></span>"),t.hasOwnProperty("caption")&&(htmlString+="<span>&nbsp;"+t.caption+"</span>"),htmlString+="</button>",htmlString},button_action:function(t){return htmlString="<button title='"+t.title+"' type='button' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="",t.hasOwnProperty("disabled")&&(htmlString+=" disabled"),t.hasOwnProperty("action")&&(htmlString+=" data-action='"+t.action+"'"),t.hasOwnProperty("data")&&(htmlString+=" "+t.data),htmlString+=" class='btn "+t.button_class+" btn-action app-hidden' id='"+t.id+"'>",t.hasOwnProperty("icon")&&(htmlString+=" <span class='"+t.icon+"'></span>"),t.hasOwnProperty("label")&&(htmlString+=" <span>&nbsp;"+t.label+"</span>"),htmlString+=" </button>",t.hasOwnProperty("grid_class")&&(htmlString="<div class='"+t.grid_class+"'>"+htmlString+"</div>"),htmlString}},l=function(t){return htmlString="",htmlString+="<div class='btn-group'>",t.forEach((function(t){htmlString+=i.button_control(t)})),htmlString+="</div>",htmlString},n=function(t){return i[t.type](t.parameters)};return{js_form_element:n,js_panel_control:function(t){return htmlString="",htmlString+="<div class='modal-control-panel'>",htmlString+=l(t),htmlString+="</div>",htmlString},js_panel_action:function(t){return htmlString="",htmlString+="<div data='yes' class='modal-action-panel'>",t.forEach((function(t){htmlString+=i.button_action(t)})),htmlString+="</div class='modal-action-panel'>",htmlString},js_button_control:l,js_button_action:function(t){return htmlString="",htmlString+=i.button_action(t),htmlString},js_table_build:function(t){return htmlString+="<div class='index-table col-lg-12'>",htmlString+="<table id='"+t.table_name+"' class='hover display-table w-100'>",htmlString+="<tbody></tbody><tfoot></tfoot></table></div>",htmlString},js_form_build:function(t){return a=t.mode,htmlString="<form id='"+t.form_name+"_form' class='form' data-mode='"+t.mode+"' ",t.hasOwnProperty("upload_form")?htmlString+="enctype='multipart/form-data'> ":htmlString+="accept-charset='UTF-8'> ",t.hasOwnProperty("csrf")&&(htmlString+="<input type='hidden' name='_token' value='"+attr.csrf+"'>"),htmlString+="<div class='edit-body container'>",t.form.forEach((function(t){htmlString+="<div class='row'>",t.forEach((function(t,e){"create"==e.mode?(t.parameters.create,!1===t.parameters.create&&(t.parameters.disabled=!0)):"edit"==e.mode&&(t.parameters.edit,!1===t.parameters.edit&&(t.parameters.disabled=!0)),htmlString+=n(t)})),htmlString+="</div>"})),htmlString+="</div>",htmlString+="</form>",htmlString},check_new:function(e){"_new"==t("#sel_"+e).val()?t("#new_"+e).show():t("#new_"+e).hide()}}}(jQuery);
